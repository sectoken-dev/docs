
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>BCH API 文档</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="bch" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#a6b537a819" class="toc-h1 toc-link" data-title="介绍说明">介绍说明</a>
          </li>
          <li>
            <a href="#bch" class="toc-h1 toc-link" data-title="创建BCH多签钱包">创建BCH多签钱包</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#c2eb9677a0" class="toc-h1 toc-link" data-title="激活钱包">激活钱包</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-2" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15-2" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25-2" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#1e3f3182c5" class="toc-h1 toc-link" data-title="查看钱包信息">查看钱包信息</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-3" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15-3" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25-3" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#dd15c4c900" class="toc-h1 toc-link" data-title="查看钱包列表">查看钱包列表</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-4" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15-4" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25-4" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#e7c28ec05c" class="toc-h1 toc-link" data-title="钱包地址列表">钱包地址列表</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-5" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15-5" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25-5" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#8884d1c186" class="toc-h1 toc-link" data-title="生成收款地址">生成收款地址</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-6" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15-6" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25-6" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#d1b09b6b80" class="toc-h1 toc-link" data-title="查询地址余额">查询地址余额</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-7" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15-7" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25-7" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#1d733f4e05" class="toc-h1 toc-link" data-title="地址格式转换">地址格式转换</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-8" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15-8" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25-8" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#5192238983" class="toc-h1 toc-link" data-title="构建交易单">构建交易单</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-9" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15-9" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#outputs" class="toc-h2 toc-link" data-title="outputs 参数">outputs 参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25-9" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#d51b06a0fe" class="toc-h1 toc-link" data-title="提交签名信息">提交签名信息</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-10" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15-10" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25-10" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhook" class="toc-h1 toc-link" data-title="添加钱包Webhook">添加钱包Webhook</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-11" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15-11" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25-11" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhook-2" class="toc-h1 toc-link" data-title="获取钱包WebHook">获取钱包WebHook</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-12" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15-12" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25-12" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhook-3" class="toc-h1 toc-link" data-title="删除钱包WebHook">删除钱包WebHook</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-13" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15-13" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25-13" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#callback" class="toc-h1 toc-link" data-title="交易Callback通知">交易Callback通知</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1f233418ae" class="toc-h2 toc-link" data-title="参数说明">参数说明</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#c284998822" class="toc-h1 toc-link" data-title="获取交易记录">获取交易记录</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request-14" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#1f9ac54b15-14" class="toc-h2 toc-link" data-title="请求参数">请求参数</a>
                  </li>
                  <li>
                    <a href="#70bdef7e25-14" class="toc-h2 toc-link" data-title="返回参数">返回参数</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#e08c1d4f9a" class="toc-h1 toc-link" data-title="错误码">错误码</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='/docs/bch.en.html'>English Version</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='a6b537a819'>介绍说明</h1>
<p><a href="https://testnet.sectoken.io/">https://testnet.sectoken.io/</a></p>
<h1 id='bch'>创建BCH多签钱包</h1>
<p>通过平台创建一个bch多签钱包</p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/wallet/bch/create/"</span><span class="p">,</span> 
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span> <span class="s">"your token"</span><span class="p">},</span> 
    <span class="n">json</span><span class="o">=</span><span class="p">{</span>
        <span class="s">"pubkeys"</span><span class="p">:</span> <span class="p">[</span>
            <span class="s">"020fcbb44ff4a1f423499b1eb9b2bd9cbe467934467d4857451c7eab7f8cb2885b"</span><span class="p">,</span> 
            <span class="s">"038f2d1612ae08a9595fbe1d30c9b13e748a4ae55c06d5d3fa5c0b2e59712d3b6b"</span>
        <span class="p">],</span>
        <span class="s">"privkeys"</span><span class="p">:[</span>
          <span class="s">"ZDkyM2ExMzZhYTM0OTJiNTJiMGI3NTc1N2U1NjVmODM3MzE4YWI2ZDQwNjQ4MTI0MWU5OGFhNWYwOWFjY2Q2Mg=="</span><span class="p">,</span> 
         <span class="s">"ZWJkMGUwZDRlNWQ0MWQyMzFiMGM2ZWNiOTY3YjQwMzExMDdmNmVhMmI4NzJlZTVjMWRmYzMyZjgzOWMyOTA5ZA=="</span><span class="p">,</span> 
        <span class="p">],</span>
        <span class="s">"wallet_name"</span><span class="p">:</span> <span class="s">"your wallet name"</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/wallet/bch/create/"</span> <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
    -X POST <span class="se">\</span>
    -d <span class="s1">'{"pubkeys": ["020fcbb44ff4a1f423499b1eb9b2bd9cbe467934467d4857451c7eab7f8cb2885b", "038f2d1612ae08a9595fbe1d30c9b13e748a4ae55c06d5d3fa5c0b2e59712d3b6b"], "privkeys": ["ZDkyM2ExMzZhYTM0OTJiNTJiMGI3NTc1N2U1NjVmODM3MzE4YWI2ZDQwNjQ4MTI0MWU5OGFhNWYwOWFjY2Q2Mg==", "ZWJkMGUwZDRlNWQ0MWQyMzFiMGM2ZWNiOTY3YjQwMzExMDdmNmVhMmI4NzJlZTVjMWRmYzMyZjgzOWMyOTA5ZA=="], "wallet_name": "your wallet name"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'https://testnet.sectoken.io/wallet/bch/create/'</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"post"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
            <span class="s1">'pubkeys'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'02f9ecb53c10e999fd2ca3a8f4503d2c5df3521e38cef44570e34f7bdc23219c70'</span><span class="p">,</span>
                <span class="s1">'023a602328d823875cd8a00393dbade47bd1f16dab100ad89ee35b1bc61607f10c'</span><span class="p">],</span>
            <span class="s1">'wallet_name'</span><span class="p">:</span> <span class="s1">'your token'</span>

        <span class="p">})</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">);</span>

</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"wallet_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ac26b212982f3c0d7d5639cbb60733d7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"activate_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"104625"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"server_pubkey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xpub699L5fethF8QKZQ725BvNfHJfnunkgMbbQxhsiinmYZN3bjrhtkYh8QCM9qd4irkAkTygyDYMJV1EPj9JnznJn6TrUrJD9V66zdnqfA9ix2"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"> 
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://testnet.sectoken.io/wallet/bch/create/</code></p>
<h3 id='1f9ac54b15'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>pubkeys</td>
<td>array</td>
<td>是</td>
<td>公钥列表</td>
</tr>
<tr>
<td>privkeys</td>
<td>array</td>
<td>否</td>
<td>私钥加密密文列表, 每个被上传的密文都必须经过base64编码</td>
</tr>
<tr>
<td>wallet_name</td>
<td>string</td>
<td>是</td>
<td>钱包名</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回内容</td>
</tr>
</tbody></table>
<h4 id='data'>data 参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>钱包的id</td>
</tr>
<tr>
<td>activate_code</td>
<td>string</td>
<td>钱包激活码</td>
</tr>
<tr>
<td>server_pubkey</td>
<td>string</td>
<td>钱包的xpub</td>
</tr>
</tbody></table>
<h1 id='c2eb9677a0'>激活钱包</h1>
<p>通过创建钱包时返回的 <code>wallet_id</code>,<code>activate_code</code> 参数来激活并使用钱包</p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/wallet/bch/activate/"</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span> <span class="s">"your token"</span><span class="p">},</span>
    <span class="n">json</span><span class="o">=</span><span class="p">{</span>
        <span class="s">"wallet_id"</span><span class="p">:</span> <span class="s">"your wallet id"</span><span class="p">,</span>
        <span class="s">"activate_code"</span><span class="p">:</span> <span class="s">"your activate code"</span><span class="p">,</span>
    <span class="p">}</span> 
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/wallet/bch/activate/"</span> <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
    -X POST <span class="se">\</span>
    -d <span class="s1">'{"wallet_id": "your wallet id", "activate_code": "your activate code"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'https://testnet.sectoken.io/wallet/bch/activate/'</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"post"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
            <span class="s1">'wallet_id'</span><span class="p">:</span> <span class="s1">'your_wallet_id'</span><span class="p">,</span>
            <span class="s1">'activate_code'</span><span class="p">:</span> <span class="s1">'218456'</span>

        <span class="p">})</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bchtest:ppyd5aecfap60sa2a9u3mqjhhuklprt0uy3xl7n4ca"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST https://testnet.sectoken.io/wallet/bch/activate/</code></p>
<h3 id='1f9ac54b15-2'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>是</td>
<td>钱包id</td>
</tr>
<tr>
<td>activate_code</td>
<td>string</td>
<td>是</td>
<td>钱包激活码</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-2'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回内容</td>
</tr>
</tbody></table>
<h4 id='data-2'>data 参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>钱包的主地址</td>
</tr>
</tbody></table>
<h1 id='1e3f3182c5'>查看钱包信息</h1><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/wallet/bch/detail/"</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span> <span class="s">"your token"</span><span class="p">},</span> 
    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s">"wallet_id"</span><span class="p">:</span> <span class="s">"your wallet id"</span><span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/wallet/bch/detail/?wallet_id=your_wallet_id"</span> <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span> <span class="se">\</span>
    -X GET    
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s2">"https://testnet.sectoken.io/wallet/bch/detail/?wallet_id=your_wallet_id"</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"get"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"wallet_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bbd3dd9bcfb68aa6737daeabac9b111e"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"wallet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCHTEST"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bchtest:pq5swaa5x0k43gxtczeastt00rekstv4qq76qkdmv8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29998626"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"send_max"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"send_day_max"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"send_day_limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"freeze_overtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET https://testnet.sectoken.io/wallet/bch/detail/</code></p>
<h3 id='1f9ac54b15-3'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>是</td>
<td>钱包id</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-3'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回内容</td>
</tr>
</tbody></table>
<h4 id='data-3'>data 参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>钱包id</td>
</tr>
<tr>
<td>wallet_name</td>
<td>string</td>
<td>钱包名</td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>钱包的地址</td>
</tr>
<tr>
<td>confirmed</td>
<td>string</td>
<td>已确认可用的钱包余额</td>
</tr>
<tr>
<td>unconfirmed</td>
<td>string</td>
<td>未确认尚未可用的余额</td>
</tr>
<tr>
<td>send_max</td>
<td>string</td>
<td>单次转账上限，&quot;0&quot;为无上限</td>
</tr>
<tr>
<td>send_day_limit</td>
<td>integer</td>
<td>单日转账次数上限，0为无上限</td>
</tr>
<tr>
<td>send_day_max</td>
<td>string</td>
<td>单日转账上限，&quot;0&quot;为无上限</td>
</tr>
<tr>
<td>freeze_overtime</td>
<td>integer</td>
<td>钱包冻结截止时间，0为未冻结</td>
</tr>
</tbody></table>
<h1 id='dd15c4c900'>查看钱包列表</h1><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/wallet/bch/wallet_list/?page=1"</span><span class="p">,</span> 
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span> <span class="s">"your token"</span><span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/wallet/bch/wallet_list/?page=1"</span> <span class="se">\</span>
    -X GET <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'https://testnet.sectoken.io/wallet/bch/wallet_list/?page=1'</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"get"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"wallet_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCHTEST"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"wallet_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bbd3dd9bcfb68aa6737daeabac9b111e"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bchtest:pq5swaa5x0k43gxtczeastt00rekstv4qq76qkdmv8"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"create_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-13"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET https://testnet.sectoken.io/wallet/bch/wallet_list/</code></p>
<h3 id='1f9ac54b15-4'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>page</td>
<td>integer</td>
<td>否</td>
<td>页码,默认显示所有钱包列表</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-4'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>返回内容</td>
</tr>
</tbody></table>
<h4 id='data-4'>data 参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>钱包的id</td>
</tr>
<tr>
<td>wallet_name</td>
<td>string</td>
<td>钱包名</td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>钱包地址</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>钱包创建时间</td>
</tr>
</tbody></table>
<h1 id='e7c28ec05c'>钱包地址列表</h1><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/wallet/bch/addr_list/"</span><span class="p">,</span> 
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span> <span class="s">"your token"</span><span class="p">},</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s">"wallet_id"</span><span class="p">:</span> <span class="s">"your wallet id"</span><span class="p">,</span> <span class="s">"page"</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/wallet/bch/addr_list/?wallet_id=your_wallet_id&amp;page=1"</span> <span class="se">\</span>
    -X GET <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span> <span class="se">\</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'https://testnet.sectoken.io/wallet/bch/addr_list/?wallet_id=your_wallet_id'</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"get"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"bchtest:pq5swaa5x0k43gxtczeastt00rekstv4qq76qkdmv8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bchtest:pqpf452h6wm83np5trh8y8cz4mxy8y9tgvqgx88ef4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bchtest:pqumdn8eq50gxlk5h4p2jnmn38yy4thhd52vmzlh83"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET https://testnet.sectoken.io/wallet/bch/addr_list/</code></p>
<h3 id='1f9ac54b15-5'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>是</td>
<td>钱包id</td>
</tr>
<tr>
<td>page</td>
<td>integer</td>
<td>否</td>
<td>页码，默认获取全部数据，如果填写，每页获取10条数据</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-5'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>返回内容，每一个元素是一个收款地址</td>
</tr>
</tbody></table>
<h1 id='8884d1c186'>生成收款地址</h1>
<p>生成新的收款地址(不需要消耗任何费用)</p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/wallet/bch/derive/"</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span> <span class="s">"your token"</span><span class="p">},</span>
    <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s">"wallet_id"</span><span class="p">:</span> <span class="s">"your wallet id"</span><span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/wallet/bch/derive/"</span> <span class="se">\</span>
    -X POST <span class="se">\</span>
    -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span> <span class="se">\</span>
    -d <span class="s1">'{"wallet_id": "your wallet id"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'https://testnet.sectoken.io/wallet/bch/derive/'</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"post"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
            <span class="s1">'wallet_id'</span><span class="p">:</span> <span class="s1">'your_wallet_id'</span><span class="p">,</span>
        <span class="p">})</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bchtest:pr3k0st633aw0xlk8g3s899xpfdlez0gngadvy9cja"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST https://testnet.sectoken.io/wallet/bch/derive/</code></p>
<h3 id='1f9ac54b15-6'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>是</td>
<td>钱包id</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-6'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回内容</td>
</tr>
</tbody></table>
<h4 id='data-5'>data 参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>派生的新地址</td>
</tr>
</tbody></table>
<h1 id='d1b09b6b80'>查询地址余额</h1><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">reqeusts</span>

<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/wallet/bch/addr_balance/"</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span> <span class="s">"your token"</span><span class="p">},</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s">"wallet_id"</span><span class="p">:</span> <span class="s">"your wallet id"</span><span class="p">,</span> <span class="s">"address"</span><span class="p">:</span><span class="s">"your address"</span><span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/wallet/bch/addr_balance/?wallet_id=your_wallet_id&amp;address=your_address"</span> <span class="se">\</span>
    -X GET <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'https://testnet.sectoken.io/wallet/bch/addr_balance/?wallet_id=your_wallet_id&amp;&amp;address=your_address'</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"get"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET https://testnet.sectoken.io/wallet/bch/addr_balance/</code></p>
<h3 id='1f9ac54b15-7'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>是</td>
<td>钱包id</td>
</tr>
<tr>
<td>address</td>
<td>string</td>
<td>是</td>
<td>对应钱包下的地址</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-7'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回内容</td>
</tr>
</tbody></table>
<h4 id='data-6'>data 参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>string</td>
<td>地址的余额，最小单位</td>
</tr>
<tr>
<td>confirmed</td>
<td>string</td>
<td>已确认可用的地址余额，最小单位</td>
</tr>
<tr>
<td>unconfirmed</td>
<td>string</td>
<td>尚未确认的地址余额，最小单位</td>
</tr>
</tbody></table>
<h1 id='1d733f4e05'>地址格式转换</h1>
<p>用于地址格式转换, API中转账建议使用 cash address, 如果您的地址目标地址不是 cash address 建议您通过本接口转换为 cash address, 以防和比特币地址混淆</p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/wallet/bch/addr_convert/"</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span><span class="s">"our token"</span><span class="p">},</span>
    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s">"address"</span><span class="p">:</span><span class="s">"your address"</span><span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/wallet/bch/addr_convert/?address=your address"</span> <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span> <span class="se">\</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'https://testnet.sectoken.io/wallet/bch/addr_convert/?address=your_address'</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"get"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>

        <span class="p">},</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>


    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"cash_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bchtest:pq5swaa5x0k43gxtczeastt00rekstv4qq76qkdmv8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"legacy_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2MvzAe1L5MTSYNQPLUQDoR3o85xAn6UUVaR"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET https://testnet.sectoken.io/wallet/bch/addr_convert/</code></p>
<h3 id='1f9ac54b15-8'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>是</td>
<td>要进行转换的钱包地址</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-8'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回内容</td>
</tr>
</tbody></table>
<h4 id='data-7'>data 参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>cash_address</td>
<td>string</td>
<td>cash格式地址</td>
</tr>
<tr>
<td>legacy_address</td>
<td>string</td>
<td>legacy格式地址</td>
</tr>
</tbody></table>
<h1 id='5192238983'>构建交易单</h1><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/wallet/bch/dotx/"</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span> <span class="s">"your token"</span><span class="p">},</span>
    <span class="n">json</span><span class="o">=</span><span class="p">{</span>
        <span class="s">"wallet_id"</span><span class="p">:</span> <span class="s">"your wallet id"</span><span class="p">,</span>
        <span class="s">"outputs"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s">"address"</span><span class="p">:</span> <span class="s">"destination address"</span><span class="p">,</span>
                <span class="s">"value"</span><span class="p">:</span> <span class="s">"10000"</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s">"address"</span><span class="p">:</span> <span class="s">"destination address"</span><span class="p">,</span>
                <span class="s">"value"</span><span class="p">:</span> <span class="s">"5000"</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="s">"feerate"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s">"memo"</span><span class="p">:</span> <span class="s">"your commit"</span><span class="p">,</span>
        <span class="s">"total"</span><span class="p">:</span>  <span class="bp">False</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/wallet/bch/dotx/"</span> <span class="se">\</span>
    -X POST <span class="se">\</span>
    -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span> <span class="se">\</span>
    -d <span class="s1">'{"wallet_id": "your wallet id", "outputs":[{"address": "destination address", "value": "10000"},{"address": "destination address", "value": "5000"}], "feerate": 1, "memo":"your commit", "total":false}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'https://testnet.sectoken.io/wallet/bch/dotx/'</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"post"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
            <span class="s1">'wallet_id'</span><span class="p">:</span> <span class="s1">'your_wallet_id'</span><span class="p">,</span>
            <span class="s1">'outputs'</span><span class="p">:</span> <span class="p">[{</span>
                <span class="s1">'address'</span><span class="p">:</span> <span class="s1">'bchtest:qq8wrt4vs5ljgkrd92uytqm6p5vcahpc5qqspgm0fh'</span><span class="p">,</span>
                <span class="s1">'value'</span><span class="p">:</span> <span class="s1">'1100'</span>
            <span class="p">},],</span>
            <span class="s1">'memo'</span><span class="p">:</span> <span class="s1">'your commit'</span><span class="p">,</span>
            <span class="s1">'total'</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="s2">"feerate"</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">})</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9998626"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"change_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bchtest:pznjncqvpe7klr7na77kt4yw0c0ys0lxesyyump30g"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"374"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"privkey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZDkyM2ExMzZhYTM0OTJiNTJiMGI3NTc1N2U1NjVmODM3MzE4YWI2ZDQwNjQ4MTI0MWU5OGFhNWYwOWFjY2Q2Mg=="</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unsigned_tx"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eff62c47d3d2131d7aff2405b5bbb049d0ac6b849351f38c132148c2c3267da3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000000"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"5221020fcbb44ff4a1f423499b1eb9b2bd9cbe467934467d4857451c7eab7f8cb2885b21038f2d1612ae08a9595fbe1d30c9b13e748a4ae55c06d5d3fa5c0b2e59712d3b6b21030c216c58cd8cc67ba503262319cba05626d89cce4264062729533b1bc6d2931553ae"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bchtest:qq8wrt4vs5ljgkrd92uytqm6p5vcahpc5qqspgm0fh"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bchtest:pznjncqvpe7klr7na77kt4yw0c0ys0lxesyyump30g"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9998626"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w"> 
</span></code></pre><h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST https://testnet.sectoken.io/wallet/bch/dotx/</code></p>
<h3 id='1f9ac54b15-9'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>是</td>
<td>钱包id</td>
</tr>
<tr>
<td>outputs</td>
<td>array</td>
<td>是</td>
<td>转账详细信息</td>
</tr>
<tr>
<td>memo</td>
<td>string</td>
<td>否</td>
<td>备注信息，记录到区块链</td>
</tr>
<tr>
<td>total</td>
<td>boolean</td>
<td>否</td>
<td>是否全部转出，当此项为True时，output只能指定一个转账地址，且转账金额失效（失效不代表可以不填，必须填写，给任意一个数字即可）</td>
</tr>
<tr>
<td>feerate</td>
<td>int</td>
<td>否</td>
<td>转账速度， 0：普通， 1：快速， 默认为普通</td>
</tr>
</tbody></table>
<h3 id='outputs'>outputs 参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>是</td>
<td>转账目标地址</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>是</td>
<td>转账金额</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-9'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回内容</td>
</tr>
</tbody></table>
<h4 id='data-8'>data 参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>unsigned_tx</td>
<td>object</td>
<td>待签名的数据</td>
</tr>
<tr>
<td>change</td>
<td>string</td>
<td>找零的金额</td>
</tr>
<tr>
<td>change_address</td>
<td>string</td>
<td>接收找零金额的地址</td>
</tr>
<tr>
<td>privkey</td>
<td>string</td>
<td>创建钱包时上传的私钥密文</td>
</tr>
</tbody></table>
<h1 id='d51b06a0fe'>提交签名信息</h1>
<p>用户在本地对交易单进行签名，并将签名后的数据提交Sectoken，Sectoken对签名进行验证后，将交易广播到区块链上</p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/wallet/bch/send/"</span><span class="p">,</span>
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span> <span class="s">"your token"</span><span class="p">},</span>
    <span class="n">json</span><span class="o">=</span><span class="p">{</span>
        <span class="s">"wallet_id"</span><span class="p">:</span> <span class="s">"your wallet id"</span><span class="p">,</span>
        <span class="s">"signed_tx"</span><span class="p">:</span><span class="s">"signature data"</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/wallet/bch/send/"</span> <span class="se">\</span>
    -X POST <span class="se">\</span>
    -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span> <span class="se">\</span>
    -d <span class="s1">'{"wallet_id": "your wallet id", "signed_tx":"0200000001a37d26c3c24821138cf35193846bacd049b0bbb50524ff7a1d13d2d3472cf6ef01000000b500483045022100ad6dc52e14447f3252e805f16363df8174a2ecd026ead616e4b95711d668e6e5022060d934e0638a510604e5da6255fefc78e91568b2b82ba7612e0dabb36e026f2b414c695221020fcbb44ff4a1f423499b1eb9b2bd9cbe467934467d4857451c7eab7f8cb2885b21038f2d1612ae08a9595fbe1d30c9b13e748a4ae55c06d5d3fa5c0b2e59712d3b6b21030c216c58cd8cc67ba503262319cba05626d89cce4264062729533b1bc6d2931553aeffffffff02e8030000000000001976a9140ee1aeac853f24586d2ab845837a0d198edc38a088ac229198000000000017a914a729e00c0e7d6f8fd3efbd65d48e7e1e483fe6cc8700000000"}'</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'https://testnet.sectoken.io/wallet/bch/send/'</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"post"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
            <span class="s1">'wallet_id'</span><span class="p">:</span> <span class="s1">'your_wallet_id'</span><span class="p">,</span>
            <span class="s1">'signed_tx'</span><span class="p">:</span> <span class="s1">'02000000000101132d77b5c81222720a4e113134e3612a722eeeac701ffe56efbaaad1c562d44e0000000023220020e6f5b27d5fafe65b3c9378be73e58977ad7065e22538cfac96a5f327dd16efedffffffff034c0400000000000017a9142e6aeb08b38fb94d17e09ac910c3c50d935e38a087073d0f000000000017a914467b69558dc8c89231172ae109f7c7d9e9505e398700000000000000000d6a0b796f757220636f6d6d69740300473044022077223d4dede35577ac8359024bb95c84ecc17e81614a9fe014d7ca88ba73de9302204ae8f2ccc0ca027cb9ef53f759473b0361772589a1053ea8f97b1e33c57c4b140169522102f9ecb53c10e999fd2ca3a8f4503d2c5df3521e38cef44570e34f7bdc23219c7021023a602328d823875cd8a00393dbade47bd1f16dab100ad89ee35b1bc61607f10c2103e8c77de3773dc6da5d105c2d2b23c5cfe3b5cc559ed72436ab180f6ad23bf48f53ae00000000'</span>
        <span class="p">})</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b5c30a5253b6567ffaa4b338e9a442a94cb5be74b525b81708cd3c9563a8b92"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_sent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-10'>HTTP Request</h3>
<p><code>POST https://testnet.sectoken.io/wallet/bch/send/</code></p>
<h3 id='1f9ac54b15-10'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>是</td>
<td>钱包id</td>
</tr>
<tr>
<td>signed_tx</td>
<td>string</td>
<td>是</td>
<td>签名完的字符串</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-10'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回内容</td>
</tr>
</tbody></table>
<h4 id='data-9'>data 参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>txid</td>
<td>bool</td>
<td>广播完成后返回的txid，可以在区块浏览器上进行查询</td>
</tr>
<tr>
<td>is_sent</td>
<td>bool</td>
<td>是否已广播。如果签名数量未达到设置的签名数，签名数量不够，返回false，否则返回true。</td>
</tr>
</tbody></table>
<h1 id='webhook'>添加钱包Webhook</h1>
<p>添加 一个 webhook, 当触发指定类型的事件的时候,Sectoken 将会向指定的URL发送一条请求信息，每个钱包最多绑定10条webhook</p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/wallet/bch/webhook_add/"</span><span class="p">,</span> 
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span> <span class="s">"your token"</span><span class="p">},</span> 
    <span class="n">json</span><span class="o">=</span><span class="p">{</span>
        <span class="s">"wallet_id"</span><span class="p">:</span> <span class="s">"your wallet id"</span><span class="p">,</span>
        <span class="s">"url"</span><span class="p">:</span> <span class="s">"https://your.server.com/webhook"</span><span class="p">,</span>
        <span class="s">"label"</span><span class="p">:</span> <span class="s">"test callback"</span><span class="p">,</span>
        <span class="s">"type"</span><span class="p">:</span> <span class="s">"deposit"</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/wallet/bch/webhook_add/"</span> <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
    -X POST <span class="se">\</span>
    -d  <span class="s1">'{"wallet_id": "your wallet id", "url":"https://your.server.com/webhook", "label":"test callback", "type":"deposit"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'https://testnet.sectoken.io/wallet/bch/webhook_add/'</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"post"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
            <span class="s1">'wallet_id'</span><span class="p">:</span> <span class="s1">'your_wallet_id'</span><span class="p">,</span>
            <span class="s1">'url'</span><span class="p">:</span> <span class="s1">'https://your.server.com/webhook'</span><span class="p">,</span>
            <span class="s1">'type'</span><span class="p">:</span> <span class="s1">'deposit'</span><span class="p">,</span>
            <span class="s1">'label'</span><span class="p">:</span> <span class="s1">'test callback'</span>
        <span class="p">})</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>

    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"callbackid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3df18c7a6b55a0cefebfc1119fe2af72"</span><span class="w"> 
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-11'>HTTP Request</h3>
<p><code>POST https://testnet.sectoken.io/wallet/bch/webhook_add/</code></p>
<h3 id='1f9ac54b15-11'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>是</td>
<td>钱包ID</td>
</tr>
<tr>
<td>url</td>
<td>string</td>
<td>是</td>
<td>用户自定义url</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>是</td>
<td>deposit or withdraw</td>
</tr>
<tr>
<td>label</td>
<td>string</td>
<td>否</td>
<td>webhook标签</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-11'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>返回内容</td>
</tr>
</tbody></table>
<h4 id='data-10'>Data 参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>callbackid</td>
<td>string</td>
<td>callback id</td>
</tr>
</tbody></table>
<h1 id='webhook-2'>获取钱包WebHook</h1>
<p>获取钱包的Webhook设置列表</p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/wallet/bch/webhook_list/"</span><span class="p">,</span> 
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span> <span class="s">"your token"</span><span class="p">},</span> 
    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s">"wallet_id"</span><span class="p">:</span> <span class="s">"your wallet id"</span><span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/wallet/bch/webhook_list/?wallet_id=your_wallet_id"</span> <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span> <span class="se">\</span>
    -X GET
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'https://testnet.sectoken.io/wallet/bch/webhook_list/?wallet_id=your_wallet_id'</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"get"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test callback"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your.server.com/webhook"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deposit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bch"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"callbackid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"da0e3f3530cb7f63695d8eaad351fdc1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"wallet_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your wallet id"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"create_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-12-13"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-12'>HTTP Request</h3>
<p><code>GET https://testnet.sectoken.io/wallet/bch/webhook_list/</code></p>
<h3 id='1f9ac54b15-12'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>是</td>
<td>钱包id</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-12'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>返回内容</td>
</tr>
</tbody></table>
<h4 id='data-11'>Data 参数</h4>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>label</td>
<td>string</td>
<td>webhook标签</td>
</tr>
<tr>
<td>url</td>
<td>string</td>
<td>webhook的目标地址</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>交易单状态,收款或付款</td>
</tr>
<tr>
<td>token</td>
<td>string</td>
<td>币种信息</td>
</tr>
<tr>
<td>callbackid</td>
<td>string</td>
<td>callback 的id</td>
</tr>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>钱包id</td>
</tr>
<tr>
<td>create_time</td>
<td>string</td>
<td>创建时间</td>
</tr>
</tbody></table>
<h1 id='webhook-3'>删除钱包WebHook</h1>
<p>删除一个Webhook</p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/wallet/bch/webhook_del/"</span><span class="p">,</span> 
    <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span> <span class="s">"your token"</span><span class="p">},</span> 
    <span class="n">json</span><span class="o">=</span><span class="p">{</span>
        <span class="s">"callbackid"</span><span class="p">:</span> <span class="s">"your callback id"</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/wallet/bch/webhook_del/"</span> <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type:application/json"</span> <span class="se">\</span>
    -X POST <span class="se">\</span>
    -d  <span class="s1">'{"callbackid": "your callback id"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>

<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'https://testnet.sectoken.io/wallet/bch/webhook_del/'</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"post"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
            <span class="s1">'callbackid'</span><span class="p">:</span> <span class="s1">'1ffbb2494120425ca191f84e207dccbc'</span><span class="p">,</span>
        <span class="p">})</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-13'>HTTP Request</h3>
<p><code>POST https://testnet.sectoken.io/wallet/bch/webhook_del/</code></p>
<h3 id='1f9ac54b15-13'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>callbackid</td>
<td>string</td>
<td>是</td>
<td>callback的id</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-13'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
</tbody></table>
<h1 id='callback'>交易Callback通知</h1>
<p>当用户钱包发生交易时，会向指定的url发送HTTP POST请求，请求头content-type为application/json。</p>

<p>此url由用户指定，用户须部署服务接收HTTP POST请求。同时需先添加钱包Webhook</p>

<blockquote>
<p>请求body示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">deposit</span><span class="w"> </span><span class="err">Example</span><span class="p">:</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"wallet_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bbd3dd9bcfb68aa6737daeabac9b111e"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"237b60874af935be382122d05d55e648bf94d12e50bc1d31c108550c770a2cf6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1347451</span><span class="p">,</span><span class="w">
  </span><span class="s2">"output"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bchtest:qq8wrt4vs5ljgkrd92uytqm6p5vcahpc5qqspgm0fh"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deposit"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1576470691</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coin_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"decimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
  </span><span class="s2">"callbackid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4d2dfa9797096340317ff7175f75b54c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"memo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">withdraw</span><span class="w"> </span><span class="err">Example</span><span class="p">:</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"wallet_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bbd3dd9bcfb68aa6737daeabac9b111e"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"237b60874af935be382122d05d55e648bf94d12e50bc1d31c108550c770a2cf6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1347451</span><span class="p">,</span><span class="w">
  </span><span class="s2">"output"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bchtest:qq8wrt4vs5ljgkrd92uytqm6p5vcahpc5qqspgm0fh"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"withdraw"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1576470691</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coin_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"decimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
  </span><span class="s2">"callbackid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4d2dfa9797096340317ff7175f75b54c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"memo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre><h3 id='1f233418ae'>参数说明</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>钱包的id</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>交易单id</td>
</tr>
<tr>
<td>height</td>
<td>integer</td>
<td>区块高度</td>
</tr>
<tr>
<td>output</td>
<td>array</td>
<td>目的地址及金额或收款地址及金额, 具体看交易类型</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>交易类型,收款或付款</td>
</tr>
<tr>
<td>timestamp</td>
<td>integer</td>
<td>时间戳</td>
</tr>
<tr>
<td>coin_type</td>
<td>string</td>
<td>币种信息</td>
</tr>
<tr>
<td>decimal</td>
<td>integer</td>
<td>币种精度</td>
</tr>
<tr>
<td>memo</td>
<td>string</td>
<td>区块链上可查的交易单备注信息</td>
</tr>
<tr>
<td>callbackid</td>
<td>string</td>
<td>callback 的 id</td>
</tr>
</tbody></table>
<h1 id='c284998822'>获取交易记录</h1><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s">"https://testnet.sectoken.io/flow/record/bch/"</span><span class="p">,</span> 
            <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"HMAC"</span><span class="p">:</span> <span class="s">"your token"</span><span class="p">},</span> 
            <span class="n">params</span><span class="o">=</span><span class="p">{</span>
                <span class="s">"wallet_id"</span><span class="p">:</span> <span class="s">"b81d38f5f250c36a05da0d0e1f9bd394"</span><span class="p">,</span>
                <span class="s">"year"</span><span class="p">:</span> <span class="s">"2019"</span><span class="p">,</span>
                <span class="s">"month"</span><span class="p">:</span> <span class="s">"12"</span>
            <span class="p">}</span>
<span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://testnet.sectoken.io/flow/record/bch/?wallet_id=b81d38f5f250c36a05da0d0e1f9bd394&amp;year=2019&amp;month=10"</span> <span class="se">\</span>
    -H <span class="s2">"HMAC:your token"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>
<span class="nx">request</span><span class="p">({</span>
        <span class="na">url</span><span class="p">:</span> <span class="s1">'https://testnet.sectoken.io/flow/record/bch/?wallet_id=your_wallet_id&amp;&amp;year=2019&amp;&amp;month=12'</span><span class="p">,</span>
        <span class="na">method</span><span class="p">:</span> <span class="s2">"get"</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span><span class="p">,</span>
            <span class="s1">'HMAC'</span><span class="p">:</span> <span class="s1">'your token'</span><span class="p">,</span>
        <span class="p">},</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>返回示例</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"46ab8299ed14ba7d57b57210b7756d80f67b3db2448fd4d1f1fb78039e5bfd6d"</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"output"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bchtest:qq8wrt4vs5ljgkrd92uytqm6p5vcahpc5qqspgm0fh"</span><span class="p">,</span><span class="w"> </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"withdraw"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">5278224</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1572259477</span><span class="p">,</span><span class="w"> 
            </span><span class="s2">"memo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"decimal"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-14'>HTTP Request</h3>
<p><code>GET https://testnet.sectoken.io/flow/record/bch/</code></p>
<h3 id='1f9ac54b15-14'>请求参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>必填</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>wallet_id</td>
<td>string</td>
<td>是</td>
<td>钱包id</td>
</tr>
<tr>
<td>year</td>
<td>string</td>
<td>是</td>
<td>指定年份</td>
</tr>
<tr>
<td>month</td>
<td>string</td>
<td>是</td>
<td>指定月份</td>
</tr>
<tr>
<td>day</td>
<td>string</td>
<td>否</td>
<td>指定日期</td>
</tr>
</tbody></table>
<h3 id='70bdef7e25-14'>返回参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>integer</td>
<td>返回码，200成功，其他失败，请查看<a href="#e08c1d4f9a">错误码</a></td>
</tr>
<tr>
<td>data</td>
<td>array</td>
<td>返回内容</td>
</tr>
</tbody></table>
<h4 id='72310cfe05'>数据参数</h4>
<table><thead>
<tr>
<th>Parameter Name</th>
<th>参数类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>txid</td>
<td>string</td>
<td>交易单id</td>
</tr>
<tr>
<td>output</td>
<td>object</td>
<td>目的地址及金额或收款地址及金额, 具体看交易类型</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>交易类型,收款或付款</td>
</tr>
<tr>
<td>timestamp</td>
<td>integer</td>
<td>区块确认时间</td>
</tr>
<tr>
<td>height</td>
<td>integer</td>
<td>区块高度</td>
</tr>
<tr>
<td>memo</td>
<td>string</td>
<td>区块链上可查的交易单备注信息</td>
</tr>
<tr>
<td>decimal</td>
<td>integer</td>
<td>币种的精度</td>
</tr>
</tbody></table>
<h1 id='e08c1d4f9a'>错误码</h1>
<p>当发生错误时返回的错误码</p>

<table><thead>
<tr>
<th>错误码</th>
<th>错误说明</th>
</tr>
</thead><tbody>
<tr>
<td>4000</td>
<td>请求参数错误</td>
</tr>
<tr>
<td>5000</td>
<td>未知错误, 请联系Sectoken</td>
</tr>
<tr>
<td>4201</td>
<td>钱包不存在</td>
</tr>
<tr>
<td>4202</td>
<td>钱包冻结中</td>
</tr>
<tr>
<td>4203</td>
<td>钱包下没有此地址</td>
</tr>
<tr>
<td>4204</td>
<td>钱包余额不足</td>
</tr>
<tr>
<td>4209</td>
<td>钱包激活码错误</td>
</tr>
<tr>
<td>4210</td>
<td>webhook个数达到上限</td>
</tr>
<tr>
<td>4211</td>
<td>地址格式错误</td>
</tr>
<tr>
<td>4401</td>
<td>账户认证失败</td>
</tr>
<tr>
<td>4402</td>
<td>此钱包不属于当前用户</td>
</tr>
<tr>
<td>4403</td>
<td>钱包个数达到上限</td>
</tr>
<tr>
<td>4404</td>
<td>没有操作权限</td>
</tr>
<tr>
<td>4502</td>
<td>禁止转向当前地址</td>
</tr>
<tr>
<td>4503</td>
<td>目标地址不能为自己</td>
</tr>
<tr>
<td>4504</td>
<td>签名错误</td>
</tr>
<tr>
<td>4505</td>
<td>全部转出只能有一个收款地址</td>
</tr>
<tr>
<td>4506</td>
<td>公钥格式不正确</td>
</tr>
<tr>
<td>4507</td>
<td>私钥密文必须是base64格式</td>
</tr>
<tr>
<td>4508</td>
<td>webhook 不存在</td>
</tr>
<tr>
<td>4512</td>
<td>交易单重复提交</td>
</tr>
<tr>
<td>4513</td>
<td>unspent 已经被使用</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
